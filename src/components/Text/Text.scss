@use 'sass:map';

$text-types: (
  'caption': (
    font-size: $font-size-caption,
    font-weight: $font-weight-regular,
    line-height: $line-height-caption
  ),
  'small': (
    font-size: $font-size-small,
    font-weight: $font-weight-regular,
    line-height: $line-height-body
  ),
  'body': (
    font-size: $font-size-body,
    font-weight: $font-weight-regular,
    line-height: $line-height-body
  ),
  'subtitle': (
    font-size: $font-size-subtitle,
    font-weight: $font-weight-medium,
    line-height: $line-height-subtitle
  ),
  'title': (
    font-size: $font-size-title,
    font-weight: $font-weight-semibold,
    line-height: $line-height-title
  ),
  'h5': (
    font-size: $font-size-h5,
    font-weight: $font-weight-bold,
    line-height: $line-height-heading
  ),
  'h4': (
    font-size: $font-size-h4,
    font-weight: $font-weight-semibold,
    line-height: $line-height-heading
  ),
  'h3': (
    font-size: $font-size-h3,
    font-weight: $font-weight-bold,
    line-height: $line-height-heading
  ),
  'h2': (
    font-size: $font-size-h2,
    font-weight: $font-weight-bold,
    line-height: $line-height-heading
  ),
  'h1': (
    font-size: $font-size-h1,
    font-weight: $font-weight-bold,
    line-height: $line-height-heading
  )
);

$text-colors: (
  'base': $color-base,
  'white': $color-white,
  'black': $color-black,
  'disabled': $color-disabled,
  'primary': $color-primary,
  'secondary': $color-secondary,
  'accent': $color-accent,
  'soft': $color-soft,
  'success': $color-success,
  'warning': $color-warning,
  'error': $color-error,
  'info': $color-info,
  'link': $color-link,
  'gray100': $color-gray100,
  'gray200': $color-gray200,
  'gray300': $color-gray300,
  'gray400': $color-gray400,
  'gray500': $color-gray500,
  'gray600': $color-gray600,
  'gray700': $color-gray700,
  'gray800': $color-gray800,
  'gray900': $color-gray900
);

$font-weights: (
  'regular': $font-weight-regular,
  'medium': $font-weight-medium,
  'semibold': $font-weight-semibold,
  'bold': $font-weight-bold
);

$text-alignments: (
  'left': left,
  'center': center,
  'right': right,
  'justify': justify
);

$letter-spacings: (
  'tightest': $letter-spacing-tightest,
  'tight': $letter-spacing-tight,
  'normal': $letter-spacing-normal,
  'relaxed': $letter-spacing-relaxed,
  'wide': $letter-spacing-wide,
  'wider': $letter-spacing-wider
);

@mixin text-caption {
  font-size: $font-size-caption;
  font-weight: $font-weight-regular;
  line-height: $line-height-caption;
}

@mixin text-small {
  font-size: $font-size-small;
  font-weight: $font-weight-regular;
  line-height: $line-height-body;
}

@mixin text-body {
  font-size: $font-size-body;
  font-weight: $font-weight-regular;
  line-height: $line-height-body;
}

@mixin text-subtitle {
  font-size: $font-size-subtitle;
  font-weight: $font-weight-medium;
  line-height: $line-height-subtitle;
}

@mixin text-title {
  font-size: $font-size-title;
  font-weight: $font-weight-semibold;
  line-height: $line-height-title;
}

@mixin text-h4 {
  font-size: $font-size-h4;
  font-weight: $font-weight-semibold;
  line-height: $line-height-heading;
}

@mixin text-h3 {
  font-size: $font-size-h3;
  font-weight: $font-weight-bold;
  line-height: $line-height-heading;
}

@mixin text-h2 {
  font-size: $font-size-h2;
  font-weight: $font-weight-bold;
  line-height: $line-height-heading;
}

@mixin text-h1 {
  font-size: $font-size-h1;
  font-weight: $font-weight-bold;
  line-height: $line-height-heading;
}

@mixin text-h5 {
  font-size: $font-size-h5;
  font-weight: $font-weight-bold;
  line-height: $line-height-heading;
}

@mixin text-type($type) {
  @if map.has-key($text-types, $type) {
    $styles: map.get($text-types, $type);
    font-size: map.get($styles, 'font-size');
    font-weight: map.get($styles, 'font-weight');
    line-height: map.get($styles, 'line-height');
  } @else {
    @warn "Tipo de texto '#{$type}' n√£o encontrado no mapa";
    @include text-body;
  }
}

@mixin text-base {
  font-family: $font-family-default;
  margin: 0;

  @each $name, $styles in $text-types {
    &.text-#{$name} {
      @include text-type($name);
    }
  }

  @each $name, $color in $text-colors {
    &.color-#{$name} {
      color: $color;
    }
  }

  @each $name, $weight in $font-weights {
    &.weight-#{$name} {
      font-weight: $weight;
    }
  }

  @each $name, $alignment in $text-alignments {
    &.align-#{$name} {
      text-align: $alignment;
    }
  }

  @each $name, $spacing in $letter-spacings {
    &.letter-spacing-#{$name} {
      letter-spacing: $spacing;
    }
  }

  &.truncate {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  &.max-lines-1 {
    @include max-lines(1);
  }
  &.max-lines-2 {
    @include max-lines(2);
  }
  &.max-lines-3 {
    @include max-lines(3);
  }
  &.max-lines-4 {
    @include max-lines(4);
  }
}

@mixin max-lines($lines) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.text-component {
  @include text-base;
}
