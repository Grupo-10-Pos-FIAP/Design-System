@use 'sass:color';
@use 'sass:map';

$icon-color-map: (
  'base': $color-base,
  'white': $color-white,
  'black': $color-black,
  'disabled': $color-disabled,
  'primary': $color-primary,
  'secondary': $color-secondary,
  'accent': $color-accent,
  'soft': $color-soft,
  'success': $color-success,
  'warning': $color-warning,
  'error': $color-error,
  'info': $color-info,
  'gray100': $color-gray100,
  'gray200': $color-gray200,
  'gray300': $color-gray300,
  'gray400': $color-gray400,
  'gray500': $color-gray500,
  'gray600': $color-gray600,
);

@function icon-color($color: 'base', $disabled: false) {
  @if $disabled {
    @return $color-disabled;
  }

  @if map.has-key($icon-color-map, $color) {
    @return map.get($icon-color-map, $color);
  }

  @warn "Cor '#{$color}' não encontrada no mapa de cores do ícone";
  @return map.get($icon-color-map, 'base');
}

@mixin icon-colors($disabled: false) {
  @each $name, $color in $icon-color-map {
    &--#{$name} {
      color: icon-color($name, $disabled);
    }
  }
}

@mixin icon-sizes {
  &--extra-small {
    width: 16px;
    height: 16px;
  }

  &--small {
    width: 20px;
    height: 20px;
  }

  &--medium {
    width: 24px;
    height: 24px;
  }

  &--large {
    width: 32px;
    height: 32px;
  }

  &--extra-large {
    width: 40px;
    height: 40px;
  }
}

.icon {
  display: inline-block;
  flex-shrink: 0;
  transition: all 0.2s ease-in-out;

  @include icon-sizes;
  @include icon-colors;

  &--disabled {
    pointer-events: none;
    opacity: 0.6;

    @include icon-colors(true);
  }

  &:not(&--disabled) {
    &:hover {
      opacity: 0.8;
    }

    &:active {
      opacity: 0.6;
      transform: scale(0.95);
    }
  }
}